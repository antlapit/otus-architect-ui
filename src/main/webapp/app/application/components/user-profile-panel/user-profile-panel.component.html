<div class="card">
    <div class="container-fluid" *ngIf="!editing">
        <div class="row">
            <div class="col-md-12">
                <p class="person-fio">{{user?.username}} <a class="pointer app-btn-btn-action-icon"
                                                            matTooltip="Редактировать"
                                                            (click)="edit()"
                >
                    <img src="assets/img/edit.svg">
                </a></p>

            </div>
        </div>
        <div class="row">
            <div class="col-md-4">
                <p class="person-field-title">Имя</p>
                <p class="person-field-value">{{user?.firstName }}</p>
            </div>
            <div class="col-md-4">
                <p class="person-field-title">Фамилия</p>
                <p class="person-field-value">{{user?.lastName }}</p>
            </div>
            <div class="col-md-4">
                <p class="person-field-title">Номер телефона</p>
                <p class="person-field-value">{{user?.phone | phone }}</p>
            </div>
            <div class="col-md-4">
                <p class="person-field-title">Электронная почта</p>
                <p class="person-field-value">{{user?.email }}</p>
            </div>
        </div>
    </div>
    <div class="container-fluid" *ngIf="editing">
        <form [formGroup]="fg" role="form" autocomplete="off">
            <div class="row">
                <div class="col-md-12">
                    <mat-form-field appearance="fill">
                        <mat-label>Имя</mat-label>
                        <input matInput type="text" placeholder=""
                               [errorStateMatcher]="matcher"
                               formControlName="firstName">
                    </mat-form-field>
                </div>
            </div>
            <div class="row">
                <div class="col-md-12">
                    <mat-form-field appearance="fill">
                        <mat-label>Фамилия</mat-label>
                        <input matInput type="text" placeholder=""
                               [errorStateMatcher]="matcher"
                               formControlName="lastName">
                    </mat-form-field>
                </div>
            </div>
            <div class="row">
                <div class="col-md-6">
                    <mat-form-field appearance="fill">
                        <mat-label>Номер телефона</mat-label>
                        <input matInput type="text" placeholder="+7(000) 000-00-00"
                               formControlName="phone"
                               [imask]="{mask: '+{7}(000) 000-00-00'}">
                    </mat-form-field>
                </div>
                <div class="col-md-6 small-padding">
                    <mat-form-field appearance="fill">
                        <mat-label>Электронная почта</mat-label>
                        <input matInput type="text" email
                               formControlName="email"
                        >
                    </mat-form-field>
                </div>
            </div>
            <div class="row">
                <button mat-raised-button class="btn btn-primary btn-lg next-btn" (click)="saveChanges()"  [disabled]="!fg.valid">
                    Сохранить
                </button>
            </div>
            <otus-architect-center-spinner *ngIf="saving"></otus-architect-center-spinner>
        </form>
    </div>
</div>
